import{_ as V,r as u,c,a as t,l as h,b as l,d as y,k as w,z as R,e as v,F as k,h as C,x as $,f as g,t as x,o as d,A as D}from"./index-BNfsHRSS.js";import{a as j}from"./index-DvJ3witA.js";const S={class:"chat-container"},A={key:0,class:"tip-box"},I={class:"tip-header"},M={class:"chat-messages"},N={class:"message-bubble"},B={key:0,class:"reason-content"},L={class:"message-content"},T={class:"message-time"},U={class:"input-area"},z={__name:"ChatArea",props:{formData:Object},setup(b){const m=u(!0),s=u(""),o=u([]),r=b,p=async()=>{const _=localStorage.getItem("account");if(!_){alert("请先登录");return}if(s.value.trim()==="")return;const e={content:s.value.trim(),time:new Date().toLocaleString(),type:"user"};o.value.push(e);let n=s.value.trim();s.value="",r.formData.jobRequirements&&(n="岗位要求："+r.formData.jobRequirements+n),r.formData.experience&&(n="经历："+r.formData.experience+n);const i=(await j({url:`http://localhost:8080/polish/get?message=${n}&account=${_}`,method:"GET"})).data.data,a={reason_content:i.reason_content,content:i.content,time:new Date().toLocaleString(),type:"system"};o.value.push(a)};return(_,e)=>{const n=v("el-icon"),f=v("el-input"),i=v("el-button");return d(),c("div",S,[e[7]||(e[7]=t("div",{class:"fixed-notice"},[t("h3",null,"简历优化助手"),t("p",null,"请描述您的简历优化需求（建议100字以上）")],-1)),m.value?(d(),c("div",A,[t("div",I,[e[2]||(e[2]=t("span",null,"操作提示",-1)),l(n,{class:"close-icon",onClick:e[0]||(e[0]=a=>m.value=!1)},{default:y(()=>[l(w(R))]),_:1})]),e[3]||(e[3]=t("p",null,"1. 请详细描述您的工作经历和项目经验",-1)),e[4]||(e[4]=t("p",null,"2. 说明您期望优化的方向和重点",-1))])):h("",!0),t("div",M,[(d(!0),c(k,null,C(o.value,(a,q)=>(d(),c("div",{key:q,class:$(["chat-message",a.type])},[t("div",N,[a.type!=="user"?(d(),c("div",B,[e[5]||(e[5]=t("span",{class:"reason-label"},"思维链：",-1)),g(" "+x(a.reason_content),1)])):h("",!0),t("div",L,x(a.content),1),t("div",T,x(a.time),1)])],2))),128))]),t("div",U,[l(f,{modelValue:s.value,"onUpdate:modelValue":e[1]||(e[1]=a=>s.value=a),type:"textarea",rows:4,placeholder:"请输入您的需求..."},null,8,["modelValue"]),l(i,{type:"primary",class:"send-btn",onClick:p},{default:y(()=>e[6]||(e[6]=[g(" 发送 ")])),_:1})])])}}},E=V(z,[["__scopeId","data-v-37d69c9b"]]),F={class:"request-container"},G={__name:"RequestArea",emits:["submit"],setup(b,{emit:m}){const s=u(""),o=u(""),r=m,p=()=>{r("submit",{jobRequirements:s.value,experience:o.value})};return(_,e)=>{const n=v("el-input"),f=v("el-button");return d(),c("div",F,[e[3]||(e[3]=t("h3",{class:"section-title"},"岗位要求",-1)),l(n,{modelValue:s.value,"onUpdate:modelValue":e[0]||(e[0]=i=>s.value=i),type:"textarea",rows:5,placeholder:"请输入目标岗位的具体要求..."},null,8,["modelValue"]),e[4]||(e[4]=t("h3",{class:"section-title"},"个人经历",-1)),l(n,{modelValue:o.value,"onUpdate:modelValue":e[1]||(e[1]=i=>o.value=i),type:"textarea",rows:8,placeholder:"请详细描述您的工作/项目经历..."},null,8,["modelValue"]),l(f,{type:"success",class:"submit-btn",onClick:p},{default:y(()=>e[2]||(e[2]=[g(" 提交优化 ")])),_:1})])}}},O=V(G,[["__scopeId","data-v-7bf4aa42"]]),H={class:"polish-container"},J={class:"main-content"},K={__name:"index",setup(b){const m=u(""),s=u("");D("jobRequirements",m),D("experience",s);const o=u({}),r=p=>{o.value=p};return(p,_)=>(d(),c("div",H,[t("div",J,[l(E,{class:"left-section",formData:o.value},null,8,["formData"]),l(O,{class:"right-section",onSubmit:r})])]))}},W=V(K,[["__scopeId","data-v-16821cd6"]]);export{W as default};
